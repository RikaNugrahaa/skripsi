-- phpMyAdmin SQL Dump
-- version 4.9.0.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Apr 27, 2021 at 03:42 PM
-- Server version: 10.4.6-MariaDB
-- PHP Version: 7.3.9

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `pos`
--

-- --------------------------------------------------------

--
-- Table structure for table `cart_transaction`
--

CREATE TABLE `cart_transaction` (
  `cart_id` int(11) NOT NULL,
  `product_id` int(11) NOT NULL,
  `therapist_id` int(11) NOT NULL,
  `price` int(11) NOT NULL,
  `discount_product` int(11) DEFAULT 0,
  `total` int(11) NOT NULL,
  `user_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Table structure for table `category`
--

CREATE TABLE `category` (
  `category_id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `created` datetime NOT NULL DEFAULT current_timestamp(),
  `updated` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `category`
--

INSERT INTO `category` (`category_id`, `name`, `created`, `updated`) VALUES
(1, 'refleksi dan massage', '2019-11-06 10:27:35', '2020-04-24 23:45:13'),
(2, 'beauty treatment', '2019-11-06 10:27:54', '0000-00-00 00:00:00');

-- --------------------------------------------------------

--
-- Table structure for table `cluster_temp`
--

CREATE TABLE `cluster_temp` (
  `cluster_id` int(11) NOT NULL,
  `customer_id` int(11) NOT NULL,
  `r_norm` float(5,4) NOT NULL,
  `f_norm` float(5,4) NOT NULL,
  `m_norm` float(5,4) NOT NULL,
  `cluster` int(11) NOT NULL,
  `iteration` int(11) NOT NULL,
  `created` datetime NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `cluster_temp`
--

INSERT INTO `cluster_temp` (`cluster_id`, `customer_id`, `r_norm`, `f_norm`, `m_norm`, `cluster`, `iteration`, `created`) VALUES
(1, 42, 0.0000, 0.0000, 0.1875, 1, 1, '2021-04-27 19:44:50'),
(2, 35, 0.0000, 0.0000, 0.0000, 2, 1, '2021-04-27 19:44:50'),
(3, 30, 0.0000, 0.5000, 0.6250, 1, 1, '2021-04-27 19:44:50'),
(4, 37, 0.0000, 1.0000, 1.0000, 1, 1, '2021-04-27 19:44:50'),
(5, 42, 0.0000, 0.0000, 0.1875, 2, 2, '2021-04-27 19:44:50'),
(6, 35, 0.0000, 0.0000, 0.0000, 2, 2, '2021-04-27 19:44:50'),
(7, 30, 0.0000, 0.5000, 0.6250, 1, 2, '2021-04-27 19:44:50'),
(8, 37, 0.0000, 1.0000, 1.0000, 1, 2, '2021-04-27 19:44:50'),
(9, 42, 0.0000, 0.0000, 0.1875, 2, 3, '2021-04-27 19:44:50'),
(10, 35, 0.0000, 0.0000, 0.0000, 2, 3, '2021-04-27 19:44:50'),
(11, 30, 0.0000, 0.5000, 0.6250, 1, 3, '2021-04-27 19:44:50'),
(12, 37, 0.0000, 1.0000, 1.0000, 1, 3, '2021-04-27 19:44:50');

-- --------------------------------------------------------

--
-- Table structure for table `customer`
--

CREATE TABLE `customer` (
  `customer_id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `phone` varchar(15) NOT NULL,
  `gender` enum('Laki-laki','Perempuan') NOT NULL,
  `created` datetime NOT NULL DEFAULT current_timestamp(),
  `updated` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `customer`
--

INSERT INTO `customer` (`customer_id`, `name`, `phone`, `gender`, `created`, `updated`) VALUES
(1, 'Anita Ratna ', '081649290009', 'Perempuan', '2020-05-01 04:05:45', '2021-04-27 18:22:02'),
(2, 'meci', '081349746685', 'Perempuan', '2021-01-18 14:44:54', '0000-00-00 00:00:00'),
(3, 'febri ', '082154379849', 'Laki-laki', '2019-11-06 09:02:40', '0000-00-00 00:00:00'),
(4, 'yanto', '089661561839', 'Laki-laki', '2019-11-06 09:03:14', '0000-00-00 00:00:00'),
(5, 'ridwan', '085156505608', 'Laki-laki', '2021-01-18 14:47:55', '2021-02-11 12:43:16'),
(6, 'elsan', '081256061086', 'Laki-laki', '2019-11-06 09:04:51', '0000-00-00 00:00:00'),
(7, 'fitriani', '089675007352', 'Perempuan', '2019-11-06 09:06:03', '0000-00-00 00:00:00'),
(8, 'peni', '081649052558', 'Perempuan', '2019-11-06 09:06:59', '0000-00-00 00:00:00'),
(9, 'jeri', '089675413206', 'Laki-laki', '2019-11-06 09:07:34', '0000-00-00 00:00:00'),
(10, 'fatimah', '089650458819', 'Perempuan', '2019-11-06 09:08:29', '2021-01-18 14:23:40'),
(11, 'lisma', '082135256129', 'Perempuan', '2019-11-06 09:09:13', '2021-01-06 02:07:42'),
(12, 'nia', '081224202115', 'Perempuan', '2019-11-06 09:10:31', '2021-01-18 14:25:07'),
(13, 'rita', '081316400731', 'Perempuan', '2019-11-06 09:11:21', '0000-00-00 00:00:00'),
(14, 'nur dwi', '089694178297', 'Perempuan', '2019-11-06 09:12:03', '0000-00-00 00:00:00'),
(15, 'zegy', '082256794572', 'Laki-laki', '2019-11-06 09:13:04', '0000-00-00 00:00:00'),
(16, 'wilda', '085750590941', 'Perempuan', '2019-11-06 09:13:35', '0000-00-00 00:00:00'),
(17, 'widya', '082256439707', 'Perempuan', '2019-11-06 09:14:12', '0000-00-00 00:00:00'),
(18, 'mia prf', '082247528727', 'Perempuan', '2019-11-06 09:14:55', '0000-00-00 00:00:00'),
(19, 'miske', '089631116225', 'Perempuan', '2019-11-06 09:16:16', '0000-00-00 00:00:00'),
(20, 'muslim', '08992438650', 'Laki-laki', '2019-11-06 09:16:58', '0000-00-00 00:00:00'),
(21, 'alif angga', '082251591096', 'Laki-laki', '2019-11-06 09:18:28', '0000-00-00 00:00:00'),
(22, 'alif fitrah', '089693838921', 'Laki-laki', '2019-11-06 09:18:57', '0000-00-00 00:00:00'),
(23, 'albird', '089657564668', 'Laki-laki', '2019-11-06 09:19:49', '0000-00-00 00:00:00'),
(24, 'dio', '081253466514', 'Laki-laki', '2019-11-06 09:20:59', '0000-00-00 00:00:00'),
(25, 'egi', '085822587654', 'Laki-laki', '2019-11-06 09:21:52', '0000-00-00 00:00:00'),
(26, 'nadila', '089691357398', 'Perempuan', '2021-01-18 14:44:13', '0000-00-00 00:00:00'),
(27, 'natalia', '089643885492', 'Perempuan', '2021-01-18 14:43:24', '0000-00-00 00:00:00'),
(28, 'rindo', '081522512682', 'Laki-laki', '2019-11-06 09:25:59', '0000-00-00 00:00:00'),
(29, 'tiya', '085345253209', 'Perempuan', '2019-11-06 09:27:41', '0000-00-00 00:00:00'),
(30, 'Rika Nugraha', '0895380049141', 'Perempuan', '2021-04-27 18:21:39', '0000-00-00 00:00:00'),
(31, 'Rika', '085651066833', 'Perempuan', '2021-01-18 14:08:52', '0000-00-00 00:00:00'),
(32, 'lia idris', '081256706406', 'Perempuan', '2021-01-18 14:33:45', '2021-02-02 13:04:25'),
(33, 'desi sanjaya', '081349647037', 'Perempuan', '2021-01-18 14:35:04', '0000-00-00 00:00:00'),
(34, 'siti hartini', '089693807735', 'Perempuan', '2021-01-18 14:36:16', '0000-00-00 00:00:00'),
(35, 'adi', '089606376903', 'Laki-laki', '2021-01-18 14:37:30', '0000-00-00 00:00:00'),
(36, 'dewi ventri', '089628996548', 'Perempuan', '2021-01-18 14:38:51', '0000-00-00 00:00:00'),
(37, 'aris', '081254972774', 'Laki-laki', '2021-01-18 14:39:38', '0000-00-00 00:00:00'),
(38, 'dinda', '081350344505', 'Perempuan', '2021-01-18 14:41:22', '2021-01-18 22:02:52'),
(39, 'sera', '082255179770', 'Perempuan', '2021-01-18 14:42:38', '0000-00-00 00:00:00'),
(40, 'nugerah', '082251207633', 'Laki-laki', '2021-01-20 17:09:44', '0000-00-00 00:00:00'),
(41, 'Samsiana', '089529904947', 'Perempuan', '2021-01-20 17:10:45', '0000-00-00 00:00:00'),
(42, 'Ari', '089691371837', 'Laki-laki', '2021-01-20 17:14:21', '0000-00-00 00:00:00'),
(43, 'dwi', '08976145126', 'Perempuan', '2021-01-20 17:16:06', '0000-00-00 00:00:00'),
(44, 'mentari', '089623693320', 'Perempuan', '2021-01-20 17:17:18', '0000-00-00 00:00:00'),
(45, 'nopal', '08986243804', 'Laki-laki', '2021-01-20 17:20:32', '0000-00-00 00:00:00');

-- --------------------------------------------------------

--
-- Table structure for table `item_stock`
--

CREATE TABLE `item_stock` (
  `item_id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `price` int(11) NOT NULL,
  `stock` int(11) NOT NULL,
  `created` datetime NOT NULL DEFAULT current_timestamp(),
  `updated` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `item_stock`
--

INSERT INTO `item_stock` (`item_id`, `name`, `price`, `stock`, `created`, `updated`) VALUES
(1, 'lulur wajah sari ayu 200ml', 45000, 12, '2020-01-14 22:36:21', '2020-01-21 13:27:42'),
(4, 'Wardah Olive Oil for Massage 150ml', 39000, 6, '2020-01-21 19:22:58', '2020-02-06 15:54:32'),
(5, 'latulipe massage cream 200g ', 75000, 4, '2020-01-21 19:24:59', '2020-01-21 18:51:01'),
(6, 'Herborist Spa Series Massage Oil Jasmine 150ml', 38000, 5, '2020-01-21 19:26:20', '2021-01-06 02:49:22'),
(13, 'latulipe lulur badan', 58000, 1, '2021-03-29 16:23:58', '0000-00-00 00:00:00');

-- --------------------------------------------------------

--
-- Table structure for table `messages`
--

CREATE TABLE `messages` (
  `message_id` int(11) NOT NULL,
  `phone` text NOT NULL,
  `detail` text NOT NULL,
  `created` datetime NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `messages`
--

INSERT INTO `messages` (`message_id`, `phone`, `detail`, `created`) VALUES
(193, '085345253209,081349647037,089675007352,089631116225,089675413206,082251591096,081350344505,081254972774,085156505608', 'cobe ', '2021-03-24 09:50:27'),
(200, '081349647037,085345253209,085156505608', 'test. cobe jak\r\n\r\nby: emak', '2021-03-25 14:53:36'),
(209, '085651066833, 0895380049141, 081350344505', 'test. maap ganggu\r\n\r\nby: emak', '2021-03-26 03:57:02'),
(213, '0895380049141,085651066833', '(CEO REFLEKSI IMAM BONJOL PONTIANAK) HOT PROMO AWAL APRIL!! Selamat anda mendapatkan promo special awal bulan dengan potongan harga 15% untuk semua produk layanan. Berlaku mulai hari ini hingga tanggal 03 April 2021', '2021-03-27 07:10:13'),
(214, '0895380049141,085651066833', '(CEO REFLEKSI IMAM BONJOL PONTIANAK) HOT PROMO AWAL APRIL!! Selamat anda mendapatkan promo special awal bulan dengan potongan harga 15% untuk semua produk layanan. Berlaku mulai hari ini hingga tanggal 03 April 2021', '2021-03-27 15:41:35'),
(215, '0895380049141,085651066833', '(CEO REFLEKSI IMAM BONJOL PONTIANAK) HOT PROMO AWAL APRIL!! Selamat anda mendapatkan promo special awal bulan dengan potongan harga 15% untuk semua produk layanan. Berlaku mulai hari ini hingga tanggal 05 April 2021', '2021-03-27 16:53:38'),
(216, '0895380049141,085651066833', '(CEO REFLEKSI IMAM BONJOL PONTIANAK) HOT PROMO AWAL APRIL!! Selamat anda mendapatkan promo special awal bulan dengan potongan harga 15% untuk semua produk layanan. Berlaku mulai hari ini hingga tanggal 05 April 2021. Stay safe and stay healthy !', '2021-03-27 16:56:20'),
(217, '085651066833,0895380049141', 'cek cek', '2021-03-28 12:08:22'),
(218, '085651066833,081349647037,085345253209,085156505608', 'punten \r\ncuma ngetest aja', '2021-04-27 15:24:49'),
(219, '085651066833,081349647037,085345253209,085156505608', 'punten \r\ncuma ngetest aja', '2021-04-27 15:36:50'),
(220, '0895380049141,081254972774', 'cek', '2021-04-27 19:45:29'),
(221, '0895380049141,081254972774', 'cek', '2021-04-27 19:45:40');

-- --------------------------------------------------------

--
-- Table structure for table `product`
--

CREATE TABLE `product` (
  `product_id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `category_id` int(11) NOT NULL,
  `product_code` varchar(10) NOT NULL,
  `price` int(11) NOT NULL,
  `created` datetime NOT NULL DEFAULT current_timestamp(),
  `updated` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `product`
--

INSERT INTO `product` (`product_id`, `name`, `category_id`, `product_code`, `price`, `created`, `updated`) VALUES
(1, 'Refleksi + bekam (50 menit)', 1, 'A001', 50000, '2019-11-06 10:31:20', '0000-00-00 00:00:00'),
(2, 'Refleksi kaki tangan + urut badan (1,5 jam)', 1, 'A002', 100000, '2019-11-06 10:31:47', '0000-00-00 00:00:00'),
(3, 'Refleksi kepala + kaki tangan (1 jam)', 1, 'A003', 80000, '2019-11-06 10:32:11', '0000-00-00 00:00:00'),
(4, 'totok wajah (45 menit)', 2, 'B001', 50000, '2019-11-06 10:32:34', '0000-00-00 00:00:00'),
(5, 'ear candle dan pijat kepala (45 menit)', 1, 'A004', 50000, '2019-11-06 10:33:11', '2019-11-06 04:33:30'),
(6, 'Guasa + urut badan (i jam 15 menit) ', 1, 'A005', 100000, '2019-11-06 10:34:11', '2019-11-06 04:34:31'),
(7, 'totok wajah + facial (1,5 jam)', 2, 'B002', 100000, '2019-11-06 10:35:19', '0000-00-00 00:00:00'),
(8, 'Lulur badan (30 menit) ', 2, 'B003', 50000, '2019-11-06 10:35:47', '0000-00-00 00:00:00'),
(9, 'Lulur badan + masker badan (1 jam 30 menit)', 2, 'B004', 100000, '2019-11-06 10:36:15', '2019-11-12 04:52:57');

-- --------------------------------------------------------

--
-- Table structure for table `rfm_value`
--

CREATE TABLE `rfm_value` (
  `rfm_id` int(11) NOT NULL,
  `customer_id` int(11) NOT NULL,
  `r_norm` float(5,4) NOT NULL,
  `f_norm` float(5,4) NOT NULL,
  `m_norm` float(5,4) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `rfm_value`
--

INSERT INTO `rfm_value` (`rfm_id`, `customer_id`, `r_norm`, `f_norm`, `m_norm`) VALUES
(1, 42, 0.0000, 0.0000, 0.1875),
(2, 35, 0.0000, 0.0000, 0.0000),
(3, 30, 0.0000, 0.5000, 0.6250),
(4, 37, 0.0000, 1.0000, 1.0000);

-- --------------------------------------------------------

--
-- Table structure for table `sale_detail`
--

CREATE TABLE `sale_detail` (
  `detail_id` int(11) NOT NULL,
  `sale_id` int(11) NOT NULL,
  `product_id` int(11) NOT NULL,
  `therapist_id` int(11) NOT NULL,
  `price` int(11) NOT NULL,
  `discount_product` int(11) NOT NULL,
  `total` int(11) NOT NULL,
  `created` datetime NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `sale_detail`
--

INSERT INTO `sale_detail` (`detail_id`, `sale_id`, `product_id`, `therapist_id`, `price`, `discount_product`, `total`, `created`) VALUES
(88, 128, 5, 1, 50000, 0, 50000, '2021-03-26 08:20:19'),
(89, 128, 5, 1, 50000, 0, 50000, '2021-03-26 08:20:19'),
(92, 130, 7, 2, 100000, 0, 100000, '2021-03-26 08:20:19'),
(93, 130, 3, 2, 80000, 0, 80000, '2021-03-26 08:20:19'),
(94, 131, 6, 2, 100000, 0, 100000, '2021-03-26 08:20:19'),
(95, 131, 5, 2, 50000, 0, 50000, '2021-03-26 08:20:19'),
(96, 132, 6, 1, 100000, 10, 90000, '2021-03-26 08:20:19'),
(97, 132, 9, 1, 100000, 20, 80000, '2021-03-26 08:20:19'),
(98, 133, 8, 1, 50000, 0, 50000, '2021-03-26 08:20:19'),
(99, 133, 6, 1, 100000, 0, 100000, '2021-03-26 08:20:19'),
(100, 134, 6, 1, 100000, 0, 100000, '2021-03-26 08:20:19'),
(101, 134, 9, 2, 100000, 0, 100000, '2021-03-26 08:20:19'),
(102, 135, 3, 1, 80000, 0, 80000, '2021-03-26 08:20:19'),
(103, 135, 4, 2, 50000, 0, 50000, '2021-03-26 08:20:19'),
(104, 136, 6, 1, 100000, 0, 100000, '2021-03-26 08:20:19'),
(105, 136, 5, 2, 50000, 0, 50000, '2021-03-26 08:20:19'),
(106, 137, 5, 2, 50000, 0, 50000, '2021-03-26 08:20:19'),
(107, 138, 6, 1, 100000, 0, 100000, '2021-03-26 08:20:19'),
(108, 138, 9, 2, 100000, 0, 100000, '2021-03-26 08:20:19'),
(109, 139, 1, 1, 50000, 0, 50000, '2021-03-26 08:20:19'),
(110, 139, 5, 2, 50000, 0, 50000, '2021-03-26 08:20:19'),
(111, 140, 5, 1, 50000, 0, 50000, '2021-03-26 08:20:19'),
(112, 140, 6, 2, 100000, 0, 100000, '2021-03-26 08:20:19'),
(113, 141, 6, 1, 100000, 0, 100000, '2021-03-26 08:20:19'),
(114, 142, 2, 2, 100000, 0, 100000, '2021-03-26 08:20:19'),
(115, 143, 7, 2, 100000, 20, 80000, '2021-03-26 08:20:19'),
(116, 144, 4, 4, 50000, 0, 50000, '2021-03-26 08:20:19'),
(117, 145, 1, 3, 50000, 0, 50000, '2021-03-26 08:20:19'),
(118, 146, 3, 1, 80000, 0, 80000, '2021-03-26 08:20:19'),
(119, 147, 7, 2, 100000, 0, 100000, '2021-03-26 08:20:19'),
(120, 148, 8, 4, 50000, 0, 50000, '2021-03-26 08:20:19'),
(121, 149, 9, 1, 100000, 0, 100000, '2021-03-26 08:20:19'),
(122, 150, 4, 1, 50000, 0, 50000, '2021-03-26 08:20:19'),
(123, 151, 5, 4, 50000, 0, 50000, '2021-03-26 08:20:19'),
(124, 152, 8, 2, 50000, 0, 50000, '2021-03-26 08:20:19'),
(125, 152, 4, 2, 50000, 0, 50000, '2021-03-26 08:20:19'),
(126, 153, 3, 4, 80000, 0, 80000, '2021-03-26 08:20:19'),
(127, 154, 7, 2, 100000, 0, 100000, '2021-03-26 08:20:19'),
(128, 155, 9, 3, 100000, 0, 100000, '2021-03-26 08:20:19'),
(129, 156, 7, 2, 100000, 0, 100000, '2021-03-26 08:20:19'),
(130, 157, 1, 4, 50000, 0, 50000, '2021-03-26 08:20:19'),
(131, 158, 6, 3, 100000, 0, 100000, '2021-03-26 08:20:19'),
(132, 159, 4, 1, 50000, 0, 50000, '2021-03-26 08:20:19'),
(133, 160, 1, 2, 50000, 0, 50000, '2021-03-26 08:20:19'),
(134, 161, 1, 3, 50000, 0, 50000, '2021-03-26 08:20:19'),
(135, 162, 4, 1, 50000, 0, 50000, '2021-03-26 08:20:19'),
(136, 163, 2, 3, 100000, 0, 100000, '2021-03-26 08:20:19'),
(137, 164, 9, 1, 100000, 10, 90000, '2021-03-26 08:20:19'),
(138, 165, 9, 4, 100000, 0, 100000, '2021-03-26 08:20:19'),
(139, 166, 7, 4, 100000, 0, 100000, '2021-03-26 08:20:19'),
(151, 179, 1, 3, 50000, 0, 50000, '2021-03-27 06:53:12'),
(152, 180, 1, 7, 50000, 0, 50000, '2021-04-27 18:30:01'),
(153, 181, 7, 7, 100000, 0, 100000, '2021-04-27 19:23:38'),
(154, 182, 1, 3, 50000, 0, 50000, '2021-04-27 19:25:08'),
(155, 183, 3, 3, 80000, 0, 80000, '2021-04-27 19:25:56'),
(156, 184, 3, 3, 80000, 0, 80000, '2021-04-27 19:26:43'),
(157, 185, 3, 3, 80000, 0, 80000, '2021-04-27 19:30:30'),
(158, 186, 1, 3, 50000, 0, 50000, '2021-04-27 19:31:45');

-- --------------------------------------------------------

--
-- Table structure for table `sale_transaction`
--

CREATE TABLE `sale_transaction` (
  `sale_id` int(11) NOT NULL,
  `invoice` varchar(20) NOT NULL,
  `customer_id` int(11) DEFAULT NULL,
  `total_price` int(11) NOT NULL,
  `discount` int(11) DEFAULT 0,
  `final_price` int(11) NOT NULL,
  `cash` int(11) NOT NULL,
  `remaining` int(11) NOT NULL,
  `note` text NOT NULL,
  `date` date NOT NULL,
  `user_id` int(11) NOT NULL,
  `created` datetime NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `sale_transaction`
--

INSERT INTO `sale_transaction` (`sale_id`, `invoice`, `customer_id`, `total_price`, `discount`, `final_price`, `cash`, `remaining`, `note`, `date`, `user_id`, `created`) VALUES
(8, 'CR2004280001', 21, 400000, 50, 200000, 200000, 0, 'aaa', '2020-04-28', 2, '2020-04-28 23:14:13'),
(9, 'CR2004280002', 30, 100000, 50, 50000, 50000, 0, 'aaa', '2020-04-28', 2, '2020-04-28 23:18:42'),
(10, 'CR2004280003', 25, 50000, 20, 40000, 50000, 10000, 'aaa', '2020-04-28', 2, '2020-04-28 23:20:06'),
(12, 'CR2004290001', 23, 100000, 0, 100000, 100000, 0, 'uuu', '2020-04-29', 2, '2020-04-29 01:06:08'),
(13, 'CR2004290002', 6, 100000, 20, 80000, 100000, 20000, 'uuuuu', '2020-04-29', 2, '2020-04-29 01:06:55'),
(14, 'CR2004300001', 7, 100000, 20, 80000, 100000, 20000, '', '2020-04-30', 2, '2020-04-30 23:57:51'),
(15, 'CR2005010001', 22, 100000, 30, 70000, 100000, 30000, '', '2020-05-01', 2, '2020-05-01 00:13:01'),
(16, 'CR2005010002', 18, 50000, 0, 50000, 50000, 0, '', '2020-05-01', 2, '2020-05-01 00:13:33'),
(17, 'CR2005010003', 11, 100000, 0, 100000, 100000, 0, '', '2020-05-01', 2, '2020-05-01 00:37:48'),
(18, 'CR2005010004', 24, 150000, 20, 120000, 150000, 30000, '', '2020-05-01', 2, '2020-05-01 02:20:42'),
(20, 'CR2005010006', 20, 135000, 0, 135000, 140000, 5000, '', '2020-05-01', 2, '2020-05-01 03:51:19'),
(21, 'CR2005010007', 15, 185000, 0, 185000, 190000, 5000, '', '2020-05-01', 2, '2020-05-01 03:57:38'),
(22, 'CR2005010008', 34, 100000, 15, 85000, 100000, 15000, '', '2020-05-01', 3, '2020-05-01 04:09:49'),
(23, 'CR2005010009', 19, 50000, 0, 50000, 50000, 0, '', '2020-05-01', 2, '2020-05-01 22:49:12'),
(24, 'CR2005020001', 16, 100000, 0, 100000, 100000, 0, '', '2020-05-02', 2, '2020-05-02 19:11:31'),
(25, 'CR2005020002', 9, 80000, 0, 80000, 100000, 20000, '', '2020-05-02', 2, '2020-05-02 19:12:26'),
(26, 'CR2005020003', 3, 100000, 0, 100000, 100000, 0, '', '2020-05-02', 2, '2020-05-02 19:13:05'),
(27, 'CR2005020004', 8, 50000, 0, 50000, 50000, 0, '', '2020-05-02', 2, '2020-05-02 19:13:34'),
(29, 'CR2005020006', 32, 100000, 0, 100000, 100000, 0, '', '2020-05-02', 2, '2020-05-02 19:14:40'),
(30, 'CR2005020007', 21, 50000, 0, 50000, 50000, 0, '', '2020-05-02', 2, '2020-05-02 19:29:50'),
(32, 'CR2005030002', 40, 80000, 0, 80000, 100000, 20000, '', '2020-05-03', 2, '2020-05-03 21:12:31'),
(33, 'CR2005030003', 41, 100000, 0, 100000, 100000, 0, '', '2020-05-03', 0, '2020-05-03 21:16:01'),
(36, 'CR2005030004', 4, 80000, 0, 80000, 80000, 0, '', '2020-05-03', 0, '2020-05-03 21:20:16'),
(37, 'CR2005030005', 42, 120000, 0, 120000, 120000, 0, '', '2020-05-03', 0, '2020-05-03 21:20:16'),
(40, 'CR2005040001', 6, 100000, 0, 100000, 100000, 0, '', '2020-05-04', 2, '2020-05-04 21:26:12'),
(41, 'CR2005040002', 7, 160000, 0, 160000, 160000, 0, '', '2020-05-04', 0, '2020-05-04 21:26:12'),
(44, 'CR2005040003', 14, 100000, 0, 100000, 100000, 0, '', '2020-05-04', 2, '2020-05-04 21:29:29'),
(46, 'CR2005040005', 28, 50000, 0, 50000, 50000, 0, '', '2020-05-04', 2, '2020-05-04 21:31:42'),
(47, 'CR2005040006', 24, 80000, 0, 80000, 80000, 0, '', '2020-05-04', 2, '2020-05-04 21:31:42'),
(48, 'CR2005050001', 13, 50000, 0, 50000, 50000, 0, '', '2020-05-05', 2, '2020-05-05 21:33:38'),
(49, 'CR2005050002', 19, 100000, 0, 100000, 100000, 0, '', '2020-05-05', 2, '2020-05-05 21:33:38'),
(50, 'CR2005050003', 25, 180000, 0, 180000, 180000, 0, '', '2020-05-05', 2, '2020-05-05 21:35:53'),
(51, 'CR2005050004', 20, 80000, 0, 80000, 100000, 20000, '', '2020-05-05', 2, '2020-05-05 21:35:53'),
(52, 'CR2005050006', 15, 80000, 0, 80000, 80000, 0, '', '2020-05-05', 2, '2020-05-05 21:35:53'),
(53, 'CR2005050005', 22, 50000, 0, 50000, 50000, 0, '', '2020-05-05', 2, '2020-05-05 21:35:53'),
(54, 'CR2005070001', 5, 120000, 0, 120000, 120000, 0, '', '2020-05-07', 2, '2020-05-07 21:41:31'),
(55, 'CR2005070002', 23, 100000, 0, 100000, 100000, 0, '', '2020-05-07', 2, '2020-05-07 21:41:31'),
(56, 'CR2005070003', 16, 80000, 0, 80000, 80000, 0, '', '2020-05-07', 2, '2020-05-07 21:41:31'),
(57, 'CR2005070004', 43, 60000, 0, 60000, 60000, 0, '', '2020-05-07', 2, '2020-05-07 21:41:31'),
(58, 'CR2005080001', 34, 120000, 0, 120000, 120000, 0, '', '2020-05-08', 2, '2020-05-08 22:16:23'),
(59, 'CR2005080002', 29, 50000, 0, 50000, 50000, 0, '', '2020-05-08', 2, '2020-05-08 22:16:23'),
(60, 'CR2005080003', 28, 80000, 0, 80000, 80000, 0, '', '2020-05-08', 2, '2020-05-08 22:16:23'),
(61, 'CR2005080004', 26, 90000, 0, 90000, 100000, 10000, '', '2020-05-08', 2, '2020-05-08 22:16:23'),
(62, 'CR2005080005', 2, 100000, 0, 100000, 100000, 0, '', '2020-05-08', 2, '2020-05-08 22:16:23'),
(64, 'CR2005090002', 7, 100000, 0, 100000, 100000, 0, '', '2020-05-09', 2, '2020-05-09 22:16:23'),
(66, 'CR2005090004', 9, 80000, 0, 80000, 80000, 0, '', '2020-05-09', 2, '2020-05-09 23:33:39'),
(68, 'CR2005100002', 44, 50000, 0, 50000, 50000, 0, '', '2020-05-10', 2, '2020-05-10 23:36:43'),
(69, 'CR2005100003', 6, 90000, 0, 90000, 90000, 0, '', '2020-05-10', 2, '2020-05-10 23:38:03'),
(70, 'CR2005100004', 33, 80000, 0, 80000, 80000, 0, '', '2020-05-10', 2, '2020-05-10 23:39:31'),
(71, 'CR2005100005', 40, 60000, 0, 60000, 60000, 0, '', '2020-05-10', 2, '2020-05-10 23:40:49'),
(73, 'CR2005120001', 21, 100000, 0, 100000, 100000, 0, '', '2020-05-12', 2, '2020-05-12 19:25:59'),
(74, 'CR2005120002', 24, 90000, 0, 90000, 100000, 10000, '', '2020-05-12', 2, '2020-05-12 19:25:59'),
(75, 'CR2005120003', 16, 70000, 0, 70000, 70000, 0, '', '2020-05-12', 2, '2020-05-12 19:25:59'),
(77, 'CR2005120005', 10, 120000, 0, 120000, 120000, 0, '', '2020-05-12', 2, '2020-05-12 19:25:59'),
(78, 'CR2005120006', 12, 100000, 0, 100000, 100000, 0, '', '2020-05-12', 2, '2020-05-12 19:25:59'),
(79, 'CR2005120007', 18, 80000, 0, 80000, 80000, 0, '', '2020-05-12', 2, '2020-05-12 19:25:59'),
(80, 'CR2005130001', 13, 100000, 0, 100000, 100000, 0, '', '2020-05-13', 2, '2020-05-13 19:25:59'),
(81, 'CR2005130002', 17, 180000, 0, 180000, 200000, 20000, '', '2020-05-13', 2, '2020-05-13 19:25:59'),
(83, 'CR2005130004', 14, 80000, 0, 80000, 80000, 0, '', '2020-05-13', 2, '2020-05-13 19:25:59'),
(84, 'CR2005140001', 26, 50000, 0, 50000, 50000, 0, '', '2020-05-14', 2, '2020-05-14 19:36:42'),
(85, 'CR2005140002', 22, 50000, 0, 50000, 50000, 0, '', '2020-05-14', 2, '2020-05-14 19:36:42'),
(86, 'CR2005140003', 17, 60000, 0, 60000, 60000, 0, '', '2020-05-14', 2, '2020-05-14 19:36:42'),
(87, 'CR2005150001', 19, 50000, 0, 50000, 50000, 0, '', '2020-05-15', 2, '2020-05-15 19:36:42'),
(88, 'CR2005150002', 5, 100000, 0, 100000, 100000, 0, '', '2020-05-15', 2, '2020-05-15 19:36:42'),
(89, 'CR2005150003', 44, 130000, 0, 130000, 150000, 20000, '', '2020-05-15', 2, '2020-05-15 19:36:42'),
(90, 'CR2005150004', 30, 80000, 0, 80000, 80000, 0, '', '2020-05-15', 2, '2020-05-15 19:36:42'),
(91, 'CR2008190001', 4, 150000, 0, 150000, 200000, 50000, '', '2020-05-16', 2, '2020-05-16 12:07:08'),
(92, 'CR2008210001', 11, 80000, 0, 80000, 100000, 20000, '', '2020-05-16', 2, '2020-05-16 00:24:12'),
(94, 'CR2008280001', 13, 100000, 0, 100000, 100000, 0, '', '2020-05-17', 2, '2020-05-17 01:11:00'),
(95, 'CR2008280002', 15, 220000, 0, 220000, 250000, 30000, '', '2020-05-17', 2, '2020-05-17 01:13:46'),
(96, 'CR2008280003', 23, 85000, 0, 85000, 100000, 15000, '', '2020-05-17', 2, '2020-05-17 01:18:03'),
(98, 'CR2008300002', 3, 150000, 0, 150000, 150000, 0, '', '2020-05-19', 2, '2020-05-19 00:27:47'),
(99, 'CR2008310001', 2, 100000, 0, 100000, 100000, 0, '', '2020-05-19', 2, '2020-05-19 10:50:13'),
(100, 'CR2008310002', 43, 50000, 10, 45000, 50000, 5000, '', '2020-05-19', 2, '2020-05-19 13:51:28'),
(102, 'CR2009070002', 30, 200000, 0, 200000, 200000, 0, '', '2020-05-20', 2, '2020-05-20 15:46:48'),
(103, 'CR2009100001', 34, 100000, 0, 100000, 100000, 0, '', '2020-05-20', 2, '2020-05-20 14:38:43'),
(104, 'CR2009100002', 29, 100000, 0, 100000, 100000, 0, '', '2020-05-20', 2, '2020-05-20 14:39:15'),
(105, 'CR2009100003', 25, 50000, 0, 50000, 50000, 0, '', '2020-05-20', 2, '2020-05-20 14:40:44'),
(106, 'CR2009110001', 24, 100000, 0, 100000, 100000, 0, '', '2020-05-20', 2, '2020-05-20 22:04:56'),
(107, 'CR2009110002', 1, 150000, 0, 150000, 150000, 0, '', '2020-05-21', 2, '2020-05-21 23:15:54'),
(108, 'CR2009110003', 39, 150000, 0, 150000, 150000, 0, '', '2020-05-21', 2, '2020-05-21 23:16:10'),
(109, 'CR2009110004', 10, 150000, 0, 150000, 150000, 0, '', '2020-05-21', 2, '2020-05-21 23:32:21'),
(110, 'CR2009110005', 30, 150000, 0, 150000, 150000, 0, '', '2020-05-21', 2, '2020-05-21 23:49:09'),
(111, 'CR2009110006', 8, 150000, 0, 150000, 150000, 0, '', '2020-05-21', 2, '2020-05-21 23:49:38'),
(113, 'CR2009120002', 45, 150000, 0, 150000, 150000, 0, '', '2020-05-22', 2, '2020-05-22 00:31:03'),
(114, 'CR2009120003', 26, 150000, 0, 150000, 150000, 0, '', '2020-05-22', 2, '2020-05-22 00:31:13'),
(115, 'CR2009120004', 15, 135000, 0, 135000, 135000, 0, '', '2020-05-22', 2, '2020-05-22 00:34:09'),
(117, 'CR2009120006', 14, 135000, 0, 135000, 135000, 0, '', '2020-05-25', 2, '2020-05-25 00:34:49'),
(118, 'CR2009120007', NULL, 135000, 0, 135000, 135000, 0, '', '2020-05-25', 2, '2020-05-25 00:35:26'),
(120, 'CR2009120009', NULL, 100000, 0, 100000, 100000, 0, '', '2020-05-25', 2, '2020-05-25 00:41:19'),
(123, 'CR2009120012', 19, 100000, 0, 100000, 100000, 0, '', '2020-05-25', 2, '2020-05-25 02:33:40'),
(124, 'CR2009120013', 12, 50000, 15, 42500, 45000, 2500, '', '2020-05-26', 2, '2020-05-26 02:38:44'),
(125, 'CR2009120014', 3, 250000, 0, 250000, 250000, 0, '', '2020-05-26', 2, '2020-05-26 02:52:45'),
(126, 'CR2009120015', 27, 250000, 0, 250000, 250000, 0, '', '2020-05-26', 2, '2020-05-26 02:54:20'),
(127, 'CR2009120016', 22, 100000, 0, 100000, 100000, 0, '', '2020-05-26', 2, '2020-05-26 03:00:48'),
(128, 'CR2009120017', NULL, 100000, 0, 100000, 100000, 0, '', '2020-05-27', 2, '2020-05-27 03:04:40'),
(129, 'CR2009120018', 4, 180000, 0, 180000, 180000, 0, '', '2020-05-27', 2, '2020-05-27 03:06:09'),
(130, 'CR2009120019', NULL, 180000, 0, 180000, 180000, 0, '', '2020-05-27', 2, '2020-05-27 03:07:48'),
(131, 'CR2009120020', 24, 150000, 0, 150000, 150000, 0, '', '2020-05-27', 2, '2020-05-27 03:22:05'),
(132, 'CR2009120021', 21, 170000, 0, 170000, 200000, 30000, '', '2020-05-28', 2, '2020-05-28 03:24:54'),
(133, 'CR2009140001', 6, 150000, 10, 135000, 150000, 15000, '', '2020-05-28', 2, '2020-05-28 02:30:40'),
(134, 'CR2009290001', 5, 200000, 0, 200000, 200000, 0, '', '2020-05-28', 2, '2020-05-28 19:05:31'),
(135, 'CR2009290002', 2, 130000, 0, 130000, 150000, 20000, '', '2020-05-28', 2, '2020-05-28 19:06:34'),
(136, 'CR2011070001', 20, 150000, 0, 150000, 150000, 0, '', '2020-05-29', 2, '2020-05-29 01:40:07'),
(137, 'CR2011070002', 30, 50000, 0, 50000, 50000, 0, '', '2020-05-29', 2, '2020-05-29 01:41:25'),
(138, 'CR2011070003', 9, 200000, 0, 200000, 200000, 0, '', '2020-05-29', 2, '2020-05-29 01:42:15'),
(139, 'CR2011070004', 34, 100000, 0, 100000, 100000, 0, '', '2020-05-29', 2, '2020-05-29 01:43:00'),
(140, 'CR2011070005', 23, 150000, 0, 150000, 150000, 0, '', '2020-05-30', 2, '2020-05-30 01:47:36'),
(141, 'CR2012110001', NULL, 100000, 0, 100000, 100000, 0, '', '2020-05-30', 2, '2020-05-30 17:02:06'),
(144, 'CR2101190001', 22, 50000, 0, 50000, 50000, 0, '', '2020-05-29', 3, '2020-05-29 13:55:13'),
(145, 'CR2101190002', 13, 50000, 0, 50000, 50000, 0, '', '2020-05-29', 3, '2020-05-29 13:56:48'),
(146, 'CR2101190003', 38, 80000, 0, 80000, 100000, 20000, '', '2020-05-29', 3, '2020-05-29 13:57:43'),
(147, 'CR2101190004', 39, 100000, 0, 100000, 100000, 0, '', '2020-05-16', 3, '2020-05-16 14:03:18'),
(148, 'CR2101190005', 11, 50000, 0, 50000, 50000, 0, '', '2020-05-29', 3, '2020-05-29 14:04:15'),
(149, 'CR2101190006', 8, 100000, 0, 100000, 100000, 0, '', '2020-05-29', 3, '2020-05-29 14:05:54'),
(150, 'CR2101190007', 31, 50000, 0, 50000, 50000, 0, '', '2020-05-30', 3, '2020-05-30 14:26:25'),
(151, 'CR2101190008', 36, 50000, 0, 50000, 50000, 0, '', '2020-05-30', 3, '2020-05-30 14:27:11'),
(152, 'CR2101190009', 35, 100000, 0, 100000, 100000, 0, '', '2020-05-30', 3, '2020-05-30 14:28:50'),
(153, 'CR2101190010', 10, 80000, 0, 80000, 90000, 10000, '', '2020-05-30', 3, '2020-05-30 14:29:48'),
(154, 'CR2101190011', 2, 100000, 0, 100000, 100000, 0, '', '2020-05-31', 3, '2020-05-31 14:31:27'),
(155, 'CR2101190012', 33, 100000, 0, 100000, 100000, 0, '', '2020-05-31', 3, '2020-05-31 19:08:26'),
(156, 'CR2101190013', 32, 100000, 0, 100000, 100000, 0, '', '2020-05-31', 3, '2020-05-31 19:14:59'),
(157, 'CR2101190014', 37, 50000, 0, 50000, 50000, 0, '', '2020-05-31', 3, '2020-05-31 19:16:00'),
(158, 'CR2101190015', 35, 100000, 0, 100000, 100000, 0, '', '2020-05-31', 3, '2020-05-31 19:16:43'),
(159, 'CR2101190016', 19, 50000, 0, 50000, 50000, 0, '', '2020-05-31', 3, '2020-05-31 19:17:30'),
(160, 'CR2101190017', 39, 50000, 0, 50000, 50000, 0, '', '2020-06-01', 3, '2020-06-01 19:18:56'),
(162, 'CR2101190019', 18, 50000, 0, 50000, 50000, 0, '', '2020-06-01', 3, '2020-06-01 19:20:43'),
(163, 'CR2101210001', 33, 100000, 20, 80000, 100000, 20000, '', '2021-01-21', 3, '2021-01-21 14:17:46'),
(164, 'CR2101210002', 38, 90000, 0, 90000, 100000, 10000, '', '2021-01-21', 3, '2021-01-21 14:18:48'),
(165, 'CR2101210003', 39, 100000, 15, 85000, 90000, 5000, '', '2021-01-21', 3, '2021-01-21 14:20:03'),
(166, 'CR2103120001', 30, 100000, 0, 100000, 100000, 0, '', '2021-03-12', 3, '2021-03-12 17:59:35'),
(167, 'CR2103120002', 31, 100000, 0, 100000, 100000, 0, '', '2021-03-12', 3, '2021-03-12 18:01:10'),
(168, 'CR2103120003', 37, 50000, 0, 50000, 50000, 0, '', '2021-03-12', 3, '2021-03-12 18:01:46'),
(169, 'CR2103120004', 38, 100000, 0, 100000, 100000, 0, '', '2021-03-12', 3, '2021-03-12 18:02:20'),
(170, 'CR2103120005', 21, 50000, 0, 50000, 50000, 0, '', '2021-03-12', 3, '2021-03-12 18:04:21'),
(171, 'CR2103120006', 9, 100000, 0, 100000, 100000, 0, '', '2021-03-12', 3, '2021-03-12 18:10:55'),
(172, 'CR2103120007', 19, 80000, 0, 80000, 100000, 20000, '', '2021-03-12', 3, '2021-03-12 18:15:33'),
(173, 'CR2103120008', 7, 50000, 0, 50000, 50000, 0, '', '2021-03-12', 3, '2021-03-12 18:17:07'),
(174, 'CR2103130004', 33, 50000, 0, 50000, 50000, 0, '', '2021-03-13', 3, '2021-03-13 18:17:44'),
(175, 'CR2103130003', 29, 50000, 0, 50000, 100000, 50000, '', '2021-03-13', 3, '2021-03-13 18:18:21'),
(176, 'CR2103130002', 5, 80000, 0, 80000, 100000, 20000, '', '2021-03-13', 3, '2021-03-13 18:19:05'),
(177, 'CR2103130001', 30, 50000, 0, 50000, 100000, 50000, '', '2021-03-13', 3, '2021-03-13 18:20:48'),
(178, 'CR2103130005', 31, 100000, 0, 100000, 100000, 0, '', '2021-03-13', 3, '2021-03-13 20:32:00'),
(179, 'CR2103270001', 37, 50000, 0, 50000, 50000, 0, '', '2021-03-27', 3, '2021-03-27 06:53:12'),
(180, 'CR2104270001', 57, 50000, 0, 50000, 50000, 0, '', '2021-04-27', 3, '2021-04-27 18:30:01'),
(181, 'CR2104270002', 57, 100000, 0, 100000, 100000, 0, '', '2021-04-27', 3, '2021-04-27 19:23:38'),
(182, 'CR2104270003', 37, 50000, 0, 50000, 50000, 0, '', '2021-04-27', 3, '2021-04-27 19:25:08'),
(183, 'CR2104270004', 37, 80000, 0, 80000, 100000, 20000, '', '2021-04-27', 3, '2021-04-27 19:25:56'),
(184, 'CR2104270005', 42, 80000, 0, 80000, 100000, 20000, '', '2021-04-27', 3, '2021-04-27 19:26:43'),
(185, 'CR2104270006', 37, 80000, 0, 80000, 100000, 20000, '', '2021-04-27', 3, '2021-04-27 19:30:30'),
(186, 'CR2104270007', 35, 50000, 0, 50000, 50000, 0, '', '2021-04-27', 3, '2021-04-27 19:31:45');

-- --------------------------------------------------------

--
-- Table structure for table `stock`
--

CREATE TABLE `stock` (
  `stock_id` int(11) NOT NULL,
  `item_id` int(11) NOT NULL,
  `type` enum('in','out') NOT NULL,
  `detail` varchar(200) NOT NULL,
  `supplier_id` int(11) DEFAULT NULL,
  `qty` int(10) DEFAULT NULL,
  `date` date NOT NULL,
  `created` datetime NOT NULL DEFAULT current_timestamp(),
  `user_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `stock`
--

INSERT INTO `stock` (`stock_id`, `item_id`, `type`, `detail`, `supplier_id`, `qty`, `date`, `created`, `user_id`) VALUES
(40, 6, 'in', '', 2, 3, '2020-01-08', '2020-11-07 00:18:55', 2),
(41, 5, 'in', '', NULL, 2, '2020-11-07', '2020-11-07 00:19:34', 2),
(42, 1, 'out', 'habis', NULL, 1, '2020-02-11', '2020-11-07 00:20:06', 2),
(43, 4, 'out', 'hilang', NULL, 2, '2020-06-30', '2020-11-07 00:20:29', 2),
(46, 5, 'in', '', NULL, 2, '2021-01-06', '2021-01-06 02:36:22', 2),
(47, 1, 'in', '', 1, 2, '2021-01-06', '2021-01-06 02:37:21', 2),
(51, 1, 'in', '', NULL, 2, '2021-01-06', '2021-01-06 02:46:06', 2),
(53, 6, 'in', '', 1, 2, '2021-01-06', '2021-01-06 02:49:44', 2),
(59, 5, 'out', 'habis', NULL, 1, '2021-03-26', '2021-03-26 14:52:20', 3),
(63, 13, 'in', '', 1, 1, '2021-04-27', '2021-04-27 15:14:34', 2);

-- --------------------------------------------------------

--
-- Table structure for table `supplier`
--

CREATE TABLE `supplier` (
  `supplier_id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `phone` varchar(15) NOT NULL,
  `address` text NOT NULL,
  `description` text DEFAULT NULL,
  `created` datetime NOT NULL DEFAULT current_timestamp(),
  `updated` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `supplier`
--

INSERT INTO `supplier` (`supplier_id`, `name`, `phone`, `address`, `description`, `created`, `updated`) VALUES
(1, 'toko B', '08123456789', 'jalan gajah mada', 'oil massage dan candle', '2019-11-06 08:54:35', '2021-01-06 02:06:55'),
(2, 'toko C', '081276589034', 'jln Gadjah Mada', 'lulur sariayu, dan latulip', '2019-11-06 08:55:59', '2019-11-18 03:03:49');

-- --------------------------------------------------------

--
-- Table structure for table `therapist`
--

CREATE TABLE `therapist` (
  `therapist_id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `phone` varchar(15) NOT NULL,
  `gender` enum('Laki-laki','Perempuan') NOT NULL,
  `created` datetime NOT NULL DEFAULT current_timestamp(),
  `updated` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data for table `therapist`
--

INSERT INTO `therapist` (`therapist_id`, `name`, `phone`, `gender`, `created`, `updated`) VALUES
(1, 'Nisa', '081242571900', 'Perempuan', '2020-08-28 00:26:24', '2021-03-25 22:40:26'),
(2, 'Riska', '089764532600', 'Perempuan', '2020-08-28 00:31:58', '2021-03-27 16:37:32'),
(3, 'Andi', '081112222333', 'Laki-laki', '2021-01-06 00:56:23', '2021-03-27 16:37:39'),
(4, 'Eva', '082222333345', 'Perempuan', '2021-01-06 00:57:21', '2021-03-25 22:40:07'),
(6, 'Kamalia ', '085234210987', 'Perempuan', '2021-04-01 15:25:57', '2021-04-27 14:37:29'),
(7, 'Lia', '089543221625', 'Perempuan', '2021-04-27 14:39:17', '0000-00-00 00:00:00');

-- --------------------------------------------------------

--
-- Table structure for table `user`
--

CREATE TABLE `user` (
  `user_id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `username` varchar(50) NOT NULL,
  `password` varchar(50) NOT NULL,
  `address` text NOT NULL,
  `level` int(1) NOT NULL COMMENT '1:admin, 2:kasir'
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `user`
--

INSERT INTO `user` (`user_id`, `name`, `username`, `password`, `address`, `level`) VALUES
(2, 'Albert', 'admin', '21232f297a57a5a743894a0e4a801fc3', 'jln gajah madaa', 1),
(3, 'fatimah', 'kasir', '29c748d4d8f4bd5cbc0f3f60cb7ed3d0', 'jln tanjung pura', 2);

--
-- Indexes for dumped tables
--

--
-- Indexes for table `cart_transaction`
--
ALTER TABLE `cart_transaction`
  ADD PRIMARY KEY (`cart_id`),
  ADD KEY `product_id` (`product_id`),
  ADD KEY `user_id` (`user_id`),
  ADD KEY `therapist_id` (`therapist_id`);

--
-- Indexes for table `category`
--
ALTER TABLE `category`
  ADD PRIMARY KEY (`category_id`);

--
-- Indexes for table `cluster_temp`
--
ALTER TABLE `cluster_temp`
  ADD PRIMARY KEY (`cluster_id`),
  ADD KEY `cluster_temp_ibfk_1` (`customer_id`);

--
-- Indexes for table `customer`
--
ALTER TABLE `customer`
  ADD PRIMARY KEY (`customer_id`);

--
-- Indexes for table `item_stock`
--
ALTER TABLE `item_stock`
  ADD PRIMARY KEY (`item_id`);

--
-- Indexes for table `messages`
--
ALTER TABLE `messages`
  ADD PRIMARY KEY (`message_id`);

--
-- Indexes for table `product`
--
ALTER TABLE `product`
  ADD PRIMARY KEY (`product_id`),
  ADD KEY `product_ibfk_1` (`category_id`);

--
-- Indexes for table `rfm_value`
--
ALTER TABLE `rfm_value`
  ADD PRIMARY KEY (`rfm_id`),
  ADD KEY `rfm_value_ibfk_1` (`customer_id`);

--
-- Indexes for table `sale_detail`
--
ALTER TABLE `sale_detail`
  ADD PRIMARY KEY (`detail_id`),
  ADD KEY `product_id` (`product_id`),
  ADD KEY `therapist_id` (`therapist_id`);

--
-- Indexes for table `sale_transaction`
--
ALTER TABLE `sale_transaction`
  ADD PRIMARY KEY (`sale_id`);

--
-- Indexes for table `stock`
--
ALTER TABLE `stock`
  ADD PRIMARY KEY (`stock_id`),
  ADD KEY `item_id` (`item_id`),
  ADD KEY `stock_ibfk_2` (`supplier_id`),
  ADD KEY `user_id` (`user_id`);

--
-- Indexes for table `supplier`
--
ALTER TABLE `supplier`
  ADD PRIMARY KEY (`supplier_id`);

--
-- Indexes for table `therapist`
--
ALTER TABLE `therapist`
  ADD PRIMARY KEY (`therapist_id`);

--
-- Indexes for table `user`
--
ALTER TABLE `user`
  ADD PRIMARY KEY (`user_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `category`
--
ALTER TABLE `category`
  MODIFY `category_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=15;

--
-- AUTO_INCREMENT for table `cluster_temp`
--
ALTER TABLE `cluster_temp`
  MODIFY `cluster_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=13;

--
-- AUTO_INCREMENT for table `customer`
--
ALTER TABLE `customer`
  MODIFY `customer_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=58;

--
-- AUTO_INCREMENT for table `item_stock`
--
ALTER TABLE `item_stock`
  MODIFY `item_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=16;

--
-- AUTO_INCREMENT for table `messages`
--
ALTER TABLE `messages`
  MODIFY `message_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=222;

--
-- AUTO_INCREMENT for table `product`
--
ALTER TABLE `product`
  MODIFY `product_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=36;

--
-- AUTO_INCREMENT for table `rfm_value`
--
ALTER TABLE `rfm_value`
  MODIFY `rfm_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT for table `sale_detail`
--
ALTER TABLE `sale_detail`
  MODIFY `detail_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=159;

--
-- AUTO_INCREMENT for table `sale_transaction`
--
ALTER TABLE `sale_transaction`
  MODIFY `sale_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=187;

--
-- AUTO_INCREMENT for table `stock`
--
ALTER TABLE `stock`
  MODIFY `stock_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=66;

--
-- AUTO_INCREMENT for table `supplier`
--
ALTER TABLE `supplier`
  MODIFY `supplier_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=15;

--
-- AUTO_INCREMENT for table `therapist`
--
ALTER TABLE `therapist`
  MODIFY `therapist_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;

--
-- AUTO_INCREMENT for table `user`
--
ALTER TABLE `user`
  MODIFY `user_id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=20;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `cart_transaction`
--
ALTER TABLE `cart_transaction`
  ADD CONSTRAINT `cart_transaction_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `product` (`product_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `cart_transaction_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `cart_transaction_ibfk_3` FOREIGN KEY (`therapist_id`) REFERENCES `therapist` (`therapist_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `cluster_temp`
--
ALTER TABLE `cluster_temp`
  ADD CONSTRAINT `cluster_temp_ibfk_1` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`customer_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `product`
--
ALTER TABLE `product`
  ADD CONSTRAINT `product_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `category` (`category_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `rfm_value`
--
ALTER TABLE `rfm_value`
  ADD CONSTRAINT `rfm_value_ibfk_1` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`customer_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `sale_detail`
--
ALTER TABLE `sale_detail`
  ADD CONSTRAINT `sale_detail_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `product` (`product_id`),
  ADD CONSTRAINT `sale_detail_ibfk_2` FOREIGN KEY (`therapist_id`) REFERENCES `therapist` (`therapist_id`);

--
-- Constraints for table `stock`
--
ALTER TABLE `stock`
  ADD CONSTRAINT `stock_ibfk_1` FOREIGN KEY (`item_id`) REFERENCES `item_stock` (`item_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `stock_ibfk_2` FOREIGN KEY (`supplier_id`) REFERENCES `supplier` (`supplier_id`) ON DELETE SET NULL ON UPDATE SET NULL,
  ADD CONSTRAINT `stock_ibfk_3` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
